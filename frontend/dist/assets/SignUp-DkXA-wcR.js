import{u as v,r as n,j as e,B as C,a as u,S as P}from"./index-Cy7K_-I9.js";import{P as S,e as t,f as p,c as h,I as a}from"./IconifyIcon-BU-KJ-rU.js";import{I,T as i,a as k}from"./Image-BZ9EmAMk.js";import{l as A}from"./Logo-with-text-BFIPa5pP.js";import{L as l}from"./Link-Bm5BDN6e.js";import{D as F}from"./Divider-Bi_5oLQc.js";const D=()=>{const x=v(),[d,g]=n.useState(!1),[c,f]=n.useState(!1),[r,j]=n.useState({username:"",email:"",password:"",confirmPassword:""}),s=o=>{j({...r,[o.target.name]:o.target.value})},y=async()=>{try{const o=await fetch("http://localhost:4000/api/users/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r.username,email:r.email,password:r.password})}),m=await o.json();o.ok?(sessionStorage.setItem("token",m.token),x(`/${u.homeRoot}/dashboard`)):console.error("Erreur lors de l'inscription:",m.message)}catch(o){console.error("Erreur serveur:",o)}},b=()=>{g(o=>!o)},w=()=>{f(o=>!o)};return e.jsxs(e.Fragment,{children:[e.jsx(C,{component:"figure",mb:5,mx:"auto",textAlign:"center",children:e.jsx(l,{href:u.homeRoot,children:e.jsx(I,{src:A,alt:"logo with text",height:60})})}),e.jsx(S,{sx:{py:6,px:{xs:5,sm:7.5}},children:e.jsxs(P,{justifyContent:"center",gap:5,children:[e.jsx(i,{variant:"h3",textAlign:"center",color:"text.secondary",children:"Créez un compte"}),e.jsxs(i,{variant:"h6",fontWeight:500,textAlign:"center",color:"text.primary",children:["Vous avez déjà un compte?"," ",e.jsx(l,{href:"/authentication/login",underline:"none",children:"Connectez vous"})]}),e.jsx(t,{variant:"filled",label:"Nom d'utilisateur",name:"username",type:"text",value:r.username,onChange:s,sx:{".MuiFilledInput-root":{bgcolor:"grey.A100",":hover":{bgcolor:"background.default"}},borderRadius:2}}),e.jsx(t,{variant:"filled",label:"Email",name:"email",type:"email",value:r.email,onChange:s,sx:{".MuiFilledInput-root":{bgcolor:"grey.A100",":hover":{bgcolor:"background.default"}},borderRadius:2}}),e.jsx(t,{variant:"filled",label:"Mot de passe",name:"password",type:d?"text":"password",value:r.password,onChange:s,sx:{".MuiFilledInput-root":{bgcolor:"grey.A100",":hover":{bgcolor:"background.default"}},borderRadius:2},InputProps:{endAdornment:e.jsx(p,{position:"end",children:e.jsx(h,{"aria-label":"toggle password visibility",onClick:b,size:"small",edge:"end",children:d?e.jsx(a,{icon:"el:eye-open",color:"text.secondary"}):e.jsx(a,{icon:"el:eye-close",color:"text.primary"})})})}}),e.jsx(t,{variant:"filled",label:"Confirmer le mot de passe",name:"confirmPassword",type:c?"text":"password",value:r.confirmPassword,onChange:s,sx:{".MuiFilledInput-root":{bgcolor:"grey.A100",":hover":{bgcolor:"background.default"}},borderRadius:2},InputProps:{endAdornment:e.jsx(p,{position:"end",children:e.jsx(h,{"aria-label":"toggle password visibility",onClick:w,size:"small",edge:"end",children:c?e.jsx(a,{icon:"el:eye-open",color:"text.secondary"}):e.jsx(a,{icon:"el:eye-close",color:"text.primary"})})})}}),e.jsx(k,{onClick:y,children:"S'inscrire"}),e.jsxs(i,{variant:"body1",textAlign:"center",children:["Vous êtes d'accord avec nos"," ",e.jsx(l,{href:"#!",underline:"none",children:"Politique de confidentialité"})]}),e.jsx(F,{})]})})]})};export{D as default};
